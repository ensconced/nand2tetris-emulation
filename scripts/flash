#!/bin/bash

set -euxo pipefail

scp -i ~/.ssh/A2D9A10570F977E8.pub -r ./fpga deb:/home/joe/dev/nand2tetris-emulation/fpga

ssh -i ~/.ssh/A2D9A10570F977E8.pub deb \
  'cd dev/nand2tetris-emulation/fpga && docker run --rm --privileged --mount type=bind,source="$(realpath .)",target=/f4pga-examples/xc7 fpga /f4pga-examples/xc7/fpga/build.sh'
